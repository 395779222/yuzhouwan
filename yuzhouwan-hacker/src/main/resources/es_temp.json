{
  "bool": {
    "must": [
      {
        "match": {
          "customerId": {
            "query": "15",
            "type": "boolean"
          }
        }
      },
      {
        "match": {
          "alarmLevel": {
            "query": 2,
            "type": "boolean"
          }
        }
      }
    ],
    "should": [
      {
        "bool": {
          "must": [
            {
              "range": {
                "startTime": {
                  "from": "1458817500000",
                  "to": "1458870900000",
                  "include_lower": true,
                  "include_upper": true
                }
              }
            },
            {
              "range": {
                "endTime": {
                  "from": "1458870900000",
                  "to": null,
                  "include_lower": true,
                  "include_upper": true
                }
              }
            }
          ]
        }
      },
      {
        "bool": {
          "must": [
            {
              "range": {
                "startTime": {
                  "from": null,
                  "to": "1458870900000",
                  "include_lower": true,
                  "include_upper": true
                }
              }
            },
            {
              "range": {
                "endTime": {
                  "from": "1458870900000",
                  "to": null,
                  "include_lower": true,
                  "include_upper": true
                }
              }
            }
          ]
        }
      },
      {
        "bool": {
          "must": [
            {
              "range": {
                "startTime": {
                  "from": null,
                  "to": "1458870900000",
                  "include_lower": true,
                  "include_upper": true
                }
              }
            },
            {
              "range": {
                "endTime": {
                  "from": "1458817500000",
                  "to": "1458870900000",
                  "include_lower": true,
                  "include_upper": true
                }
              }
            }
          ]
        }
      },
      {
        "bool": {
          "must": [
            {
              "range": {
                "startTime": {
                  "from": "1458817500000",
                  "to": "1458870900000",
                  "include_lower": true,
                  "include_upper": true
                }
              }
            },
            {
              "range": {
                "endTime": {
                  "from": "1458817500000",
                  "to": "1458870900000",
                  "include_lower": true,
                  "include_upper": true
                }
              }
            }
          ]
        }
      }
    ]
  }
}